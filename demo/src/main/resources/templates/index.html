<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/style.css">
    <title>Hello Contact App</title>
</head>

<body>
    <h1>Contact Management App</h1>
    
    <div class="left-title">
        <h2>Contact List</h2>
    </div>

    <div class="actions">
        <form action="/sort" method="get">
            <label for="sortBy">Sort By:</label>
            <select name="sortBy" id="sortBy" onchange="this.form.submit()">
                <option value="name" th:selected="${sortBy == 'name'}">Name</option>
                <option value="phone" th:selected="${sortBy == 'phone'}">Phone</option>
                <option value="email" th:selected="${sortBy == 'email'}">Email</option>
            </select>
        </form>

        <form action="/search" method="get">
            <input type="text" name="keyword" placeholder="Search Here.." required>
            <button type="submit">Search</button>
        </form>

        <a href="/addContact">Add New Contact</a>
    </div>

    <table border="1">
        <tr>
            <th>Name</th>
            <th>Phone</th>
            <th>Email</th>
            <th>Actions</th>
        </tr>
        <tr th:each="contact : ${contacts}">
            <td th:text="${contact.name}"></td>
            <td th:text="${contact.phone}"></td>
            <td th:text="${contact.email}"></td>
            <td>
                <a th:href="@{/edit/{id}(id=${contact.id})}">Edit</a> |
                <a th:href="@{/confirmDelete/{id}(id=${contact.id})}" style="color:red;">Delete</a>
            </td>
        </tr>
    </table>

    <script src="/js/script.js"></script>
</body>

</html>